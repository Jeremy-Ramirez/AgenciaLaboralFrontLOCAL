<h1 class="mt-5">Selectores anidados</h1>

{{this.usuarioActual}}
<div>
<form [formGroup]="miFormulario" (ngSubmit)="solicitar()">
    <div class="row">
        <div class="col-75">
            <label class="form-label" style="margin-left: 50px;">Provincia</label>
            <select class="form-control"style="margin-left: 50px; width:200px" formControlName='provincia'>
                <option  value="">---Seleccione Provincia---</option>
                <option *ngFor="let p of provincias"  value="{{p.idprovincia}}">
                    {{p.nombreprovincia}}
                </option>
            </select>
        </div>
    </div>

      <div class="row">
        <div class="col-75">
            <label class="form-label" style="margin-left: 50px;">Ciudad</label>
            <select class="form-control"style="margin-left: 50px; width:200px" formControlName='ciudad'>
                <option  value="">---Seleccione Ciudad---</option>
                <option *ngFor="let c of ciudesE" value="{{c.provincia_idprovincia}}">
                   {{c.nombreciudad}}
                </option>
            </select>
        </div>
    </div>  


    <div class="row">
        <div class="col-75">
            <label class="form-label" style="margin-left: 50px;">Profesion</label>
            <select class="form-control"style="margin-left: 50px; width:200px" formControlName='profesiones_idprofesiones'>
                <option  value="">---Seleccione Profesión---</option>
                <option *ngFor="let p of profesiones" value="{{p.idprofesiones}}">
                   {{p.profesion}}
                </option>
            </select>
        </div>
    </div>  
 

    <div class="row">
        <div class="col-75">
            <label class="form-label" style="margin-left: 50px;">Género</label>
            <select class="form-control"style="margin-left: 50px; width:200px" formControlName='genero'>
                <option  value="">---Seleccione Género---</option>
                <option *ngFor="let g of generos" value="{{g.idgenero}}">
                   {{g.genero}}
                </option>
            </select>
        </div>
        
    </div>  



    <div class="row">
        <div class="col-75">
            <label class="form-label" style="margin-left: 50px;">Disponibilidad para viajar</label><br>
        <input type="radio" value="si" formControlName="posibilidadviajar" style="margin-left: 50px;"> Si
        <input type="radio" value="no" formControlName="posibilidadviajar" style="margin-left: 50px;"> No
        </div>
    </div>  




    <div class="row">
        <div class="col-75">
            <label class="form-label" style="margin-left: 50px;">Disponibilidad cambio residencia</label><br>
        <input type="radio" value="si" formControlName="posibilidadcambioresidencia" style="margin-left: 50px;"> Si
        <input type="radio" value="no" formControlName="posibilidadcambioresidencia" style="margin-left: 50px;"> No
        </div>
    </div>  

        
    <div class="row">
        <div class="col-75">
            <label class="form-label" style="margin-left: 50px;">Nivel Estudios</label>
            <select class="form-control"style="margin-left: 50px; width:200px" formControlName='nivelestudios_idnivelestudios'>
                <option  value="">---Seleccione Nivel de estudios---</option>
                <option *ngFor="let n of niveles" value="{{n.idnivelestudios}}">
                   {{n.descripcion}}
                </option>
            </select>
        </div>
        
    </div>  
            
      
    





</form>
</div>

<h3>Formulario</h3>
<pre>Valid: {{miFormulario.valid}}</pre>
<pre>{{miFormulario.value | json}}</pre>





<div class="row borde" style="margin-left: 50px;">
    <div class="col-75">
        <label class="form-label" style="margin-left: 50px;">ASPIRANTES </label>
        <div *ngFor="let u of usuarios">
            <div *ngFor="let a of aspirantes">

                <div *ngIf= " u.rol_idrol == 2 &&
                              u.idusuario == a.usuario_idusuario 
                              && u.genero_idgenero == this.Genero.value && 
                              u.provincia_idprovincia == this.Provincia.value && 
                              u.ciudad_idciudad == this.Ciudad.value &&
                              a.posibilidadviajar == this.Posibilidad.value && 
                              a.posibilidadcambioresidencia == this.Cambio.value ">

                    

                              <table>
                                <tr>
                                    <td>NOMBRES</td>
                                    <td>APELLIDOS</td>
                                    <td>PROFESIÓN</td>
                                    <td >ACCIÓN</td>
        
                                </tr>
                                <tr>
                                    <td>
                                        {{u.nombre | uppercase}}
                                    </td>
                                    <td>
                                        {{u.apellido | uppercase}}
                                    </td>
                                    <td>
                                        {{profesiondesc}}
                                    </td>
                                    <td>
                                        <button>Ver perfil</button>
                                    </td>

                                    
                                </tr>
                            </table>
                </div>
               
            </div>
            
            
        </div>
     
    </div>
</div> 


<!-- <div class="row borde" style="margin-left: 50px;">
    <div class="col-75">
        <label class="form-label" style="margin-left: 50px;">ASPIRANTES </label>
        <div *ngFor="let u of usuarios">
            <div *ngIf=" u.rol_idrol ==2 && u.genero_idgenero == this.Genero.value && 
                        u.provincia_idprovincia == this.Provincia.value && 
                        u.ciudad_idciudad == this.Ciudad.value ">
               


                    <table>
                        <tr>
                            <td>NOMBRES</td>
                            <td>APELLIDOS</td>
                            <td>PROFESIÓN</td>
                            <td >ACCIÓN</td>

                        </tr>
                        <tr>
                            <td>
                                {{u.nombre | uppercase}}
                            </td>
                            <td>
                                {{u.apellido | uppercase}}
                            </td>
                            <td>
                                {{profesiondesc}}
                            </td>
                            <td>
                                <button>Ver perfil</button>
                            </td>
                            
                        </tr>
                    </table>
            </div> 
            
        </div>
    </div>
</div>   -->



<div class="row">
    <div class="col">
        <button class="btn btn-primary float-end"
        type="submit" style="margin-left: 50px;">Solicitar</button>
    </div>
</div>